@model List<UserMessage>
@{
    ViewData["Title"] = "Mesajlar";
    Layout = "~/Views/AdminLayout/Layout.cshtml";
    int count = 0;
}

<div class="card-body">
    <div class="card-sub">
        Mesajlar ile ilgili işlemleri aşağıdaki panelden yapabilirsiniz.
    </div>
    <table class="table mt-3">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Gönderen</th>
                <th scope="col">Konu</th>
                <th scope="col">Tarih</th>
                <th scope="col">Mesajı Aç</th>
                <th scope="col">Durum</th>
                <th scope="col">İşlemler</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                count++;
                <tr>
                    <th>@count</th>
                    <td>@item.Name</td>
                    <td>@item.Subject</td>
                    <td>@item.SendDate.ToShortDateString()</td>
                    <td><a href="/UserMessage/MessageDetail/@item.UserMessageId" class="btn btn-warning">Mesajı Aç</a></td>
                 
                    @if (item.IsRead == true)
                    {
                    
                        <td><a href="/UserMessage/ChangeIsReadToFalse/@item.UserMessageId" class="btn btn-dark">Okunmadı Olarak İşaretle</a></td>
                    }
          
                    else
                    {
                        <td><a href="/UserMessage/ChangeIsReadToTrue/@item.UserMessageId" class="btn btn-info">Okundu Olarak İşaretle</a></td>
                    }
              
                    <td class="d-flex align-items-center">
                        <span class="badge @(item.IsRead ? "bg-success" : "bg-secondary") fs-6 me-3 px-3 py-2">
                            @(item.IsRead ? "True" : "False")
                        </span>
                        <a href="/UserMessage/DeleteUserMessage/@item.UserMessageId" class="btn btn-danger">Sil</a>
                        <br />
                       
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<a href="/UserMessage/CreateUserMessage/" class="btn btn-outline-primary">Yeni Mesaj Oluştur</a>
